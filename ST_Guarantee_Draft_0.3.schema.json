{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"description": "Standardised Trust Guarantee JSON Schema, draft, 2021-09, aligned with ST_Gtee_SemanticModel_Clean_20210908.xlsx",
	"type" : "object",
	"properties": {
		"lifeCycleAction": {
			"description": "In which lifecycle the guarantee is, set with enumeration values",
			"oneOf": [
				{
					"$ref": "#/definitions/lifeCycleActions"
				},
				{
					"type": "array",
					"minItems": 1,
					"maxItems": 1,
					"uniqueItems": true,
					"items": { "$ref": "#/definitions/lifeCycleActions" }
				}
			]
		},
		"reference": {
			"description": "A combo of actual guarantee reference value and the party setting the reference. May exist many times, one per party to refer uniquely.",
			"type" : "object",
			"properties": {
				"identifier": {
					"description": "UUID as preferred input (https://en.wikipedia.org/wiki/Universally_unique_identifier)",
					"type": "string",	
					"minLength": 1,
					"maxLength": 36
				},
				"partyType": {
					"description": "guarantee party from ready-made enumeration list",
					"oneOf": [
						{
							"$ref": "#/definitions/partyTypes"
						},
						{
							"type": "array",
							"minItems": 1,
							"maxItems": 1,
							"uniqueItems": true,
							"items": { "$ref": "#/definitions/partyTypes" }
						}
					]
				}
			},
			"required": [ "identifier", "partyType" ],
			"additionalProperties": false
		},
		"purpose": {
			"description": "free text purpose of the guarantee, or use of URL for ready-made text reference",
			"type" : "object",
			"$ref": "#/definitions/uriTextChoice"
		},
		"name": {
			"description": "guarantee name code from ready-made enumeration list",
			"oneOf": [
				{
					"$ref": "#/definitions/names"
				},
				{
					"type": "array",
					"minItems": 1,
					"maxItems": 1,
					"uniqueItems": true,
					"items": { "$ref": "#/definitions/names" }
				}
			]
		},
		"type": {
			"description": "guarantee type code from ready-made enumeration list",
			"oneOf": [
				{
					"$ref": "#/definitions/types"
				},
				{
					"type": "array",
					"minItems": 1,
					"maxItems": 1,
					"uniqueItems": true,
					"items": { "$ref": "#/definitions/types" }
				}
			]
		},
		"parties": {
			"description": "guarantee party from ready-made party type list with all details included",
			"type" : "array",
			"items": {
				"$ref": "#/definitions/party"
			}
		},
		"undertakingAmount": {
			"description": "guarantee amount with currency",
			"$ref": "#/definitions/amountWithCurrency"
   		},
		"automaticAmountVariation": {
			"description": "Description of an automated amount variation.  For simplicity, this is still defined only in free text.  More granular approach with triggers and rates can be activated by specific needs.",
			"additionalInformation": {
				"description": "free text information, or use of URL for ready-made text reference",
				"type" : "object",
				"$ref": "#/definitions/uriTextChoice"
			}
		},
		"issuanceDetails": {
			"description": "Details for undertaking issuance",
			"type": "object",
			"properties": {
				"type": {
					"description": "guarantee issuance type code from ready-made enumeration list, used only in issuance lif-cycle",
					"oneOf": [
						{
							"$ref": "#/definitions/issuanceTypes"
						},
						{
							"type": "array",
							"minItems": 1,
							"maxItems": 1,
							"uniqueItems": true,
							"items": { "$ref": "#/definitions/issuanceTypes" }
						}
					]
				},
				"date": {
					"description": "Date of guarantee issuance",
					"$ref": "#/definitions/dateChoice"
				},
				"place": {
					"description": "Place of guarantee issuance",
					"type": "object",
					"$ref": "#/definitions/location"
				}
			},
			"required": [ "type", "date", "place" ],
			"additionalProperties": false
		},
		"effectiveDate": {
			"description": "Date of guarantee effectiveness, either date or datetime available",
			"type": "object",
			"$ref": "#/definitions/dateChoice"
		},
		"expiryDetails": {
			"description": "Expiry details; now only date and free text.  Availability to add more when needed",
			"type": "object",
			"properties": {
				"type": {
					"description": "guarantee expiry type code from ready-made enumeration list, used only in issuance lif-cycle",
					"oneOf": [
						{
							"$ref": "#/definitions/expiryTypes"
						},
						{
							"type": "array",
							"minItems": 1,
							"maxItems": 1,
							"uniqueItems": true,
							"items": { "$ref": "#/definitions/expiryTypes" }
						}
					]
				},
				"date": {
					"description": "Either fixed date or estimated date to be filled.  Use of Date when fixed and Estimated Date if unlimited.",
					"$ref": "#/definitions/dateChoice"
				},
				"estimatedDate": {
					"description": "Either fixed date or estimated date to be filled.  Use of Date when fixed and Estimated Date if unlimited.",
					"$ref": "#/definitions/dateChoice"
				},
				"additionalInformation": {
					"description": "free text information, or use of URL for ready-made text reference",
					"type" : "object",
					"$ref": "#/definitions/uriTextChoice"
				}
			}
   		},
		"governanceRulesAndLaw": {
			"description": "Definition of rule set and jursidiction",
			"type": "object",
			"properties": {
				"ruleIdentifier": {
					"oneOf": [
						{
							"$ref": "#/definitions/ruleIdentifiers"
						},
						{
							"type": "array",
							"minItems": 1,
							"maxItems": 1,
							"uniqueItems": true,
							"items": { "$ref": "#/definitions/ruleIdentifiers" }
						}
					]
				},
				"applicableLaw": {
					"type": "string"
				},
				"additionalInformation": {
					"description": "free text information, or use of URL for ready-made text reference",
					"type" : "object",
					"$ref": "#/definitions/uriTextChoice"
				}
			},
			"required": [ "ruleIdentifier", "applicableLaw"]
		},
		"underlyingTransaction": {
			"description": "Details of the underlying transaction for which the undertaking is issued",
			"type": "object",
			"properties": {
				"transactionType": {
					"oneOf": [
						{
							"$ref": "#/definitions/transactionTypes"
						},
						{
							"type": "array",
							"minItems": 1,
							"maxItems": 1,
							"uniqueItems": true,
							"items": { "$ref": "#/definitions/transactionTypes" }
						}
					]
				},
				"identification": {
					"type": "string"
				},
				"date": {
					"description": "Date of underlying transaction",
					"$ref": "#/definitions/dateChoice"
				},
				"details": {
					"description": "Optional details of the deliverable: issuer givcen code, name and quantity",
					"type": "object",
					"properties": {
						"code": {
							"description": "Issuer given product / service code of the deliverable",
							"type": "string"
						},
						"name": {
							"description": "Issuer given product / service name of the deliverable",
							"type": "string"
						},
						"quantity": {
							"description": "Issuer given product / service quantity of the deliverable",
							"type": "string"
						}
					}
				},
				"additionalInformation": {
					"description": "free text information, or use of URL for ready-made text reference",
					"type" : "object",
					"$ref": "#/definitions/uriTextChoice"
				}
			},
			"required": [ "transactionType", "identification"]
		},	
		"presentationDetails": {
			"description": "Details of the presentation related to the undertaking",
			"type": "object",
			"properties": {
				"mediumType": {
					"oneOf": [
						{
							"$ref": "#/definitions/mediumTypes"
						},
						{
							"type": "array",
							"minItems": 1,
							"maxItems": 1,
							"uniqueItems": true,
							"items": { "$ref": "#/definitions/mediumTypes" }
						}
					]
				},
				"documentType": {
					"oneOf": [
						{
							"$ref": "#/definitions/documentTypes"
						},
						{
							"type": "array",
							"minItems": 1,
							"maxItems": 1,
							"uniqueItems": true,
							"items": { "$ref": "#/definitions/documentTypes" }
						}
					]
				},
				"additionalInformation": {
					"description": "free text information, or use of URL for ready-made text reference",
					"type" : "object",
					"$ref": "#/definitions/uriTextChoice"
				}
			},
			"required": [ "mediumType", "documentType"]
		},
		"undertakingWording": {
			"description": "Model text, language and terms & conditions of the undertaking",
			"type": "object",
			"properties": {
				"requestedWordingLanguage": {
					"type" : "string",
					"pattern": "^[a-zA-Z]{2}$"
				},
				"termsAndConditions": {
					"type": "object",
					"properties": {
						"termsType": {
							"oneOf": [
								{
									"$ref": "#/definitions/termsTypes"
								},
								{
									"type": "array",
									"minItems": 1,
									"maxItems": 1,
									"uniqueItems": true,
									"items": { "$ref": "#/definitions/termsTypes" }
								}
							]
						}
					}
				},
				"modelForm": {
					"description": "free text information, or use of URL for ready-made text reference",
					"type" : "object",
					"$ref": "#/definitions/uriTextChoice"
				}
			},
			"required": [ "requestedWordingLanguage", "termsAndConditions" ]
		},
		"multipleDemandIndicator": {
			"description": "Indicates whether multiple demands are permitted",
			"type": "boolean"
		},
		"partialDemandIndicator": {
			"description": "Indicates whether partial demands/drawings are permitted",
			"type": "boolean"
		},
		"transferIndicator": {
			"description": "Indicates whether the undertaking is transferable",
			"type": "boolean"
		},
		"assignmentIndicator": {
			"description": "Indicates whether the undertaking is having restictions in its assignment",
			"type": "boolean"
		},
		"confirmationIndicator": {
			"description": "Indicates whether the advising bank (confirmer) is requested to add its confirmation to the undertaking. USed only in SBLC cases.",
			"type": "boolean"
		},
		"charges": {
			"description": "Charges definitions by each and every party needed",
			"type" : "array",
			"items": {
				"type": "object",
				"properties": {
					"chargeType": {
						"description": "type of a charge",
						"oneOf": [
							{
								"$ref": "#/definitions/chargeTypes"
							},
							{
								"type": "array",
								"minItems": 1,
								"maxItems": 1,
								"uniqueItems": true,
								"items": { "$ref": "#/definitions/chargeTypes" }
							}
						]
					},
					"paidByParty": {
						"description": "guarantee party from ready-made enumeration list",
						"oneOf": [
							{
								"$ref": "#/definitions/partyTypes"
							},
							{
								"type": "array",
								"minItems": 1,
								"maxItems": 1,
								"uniqueItems": true,
								"items": { "$ref": "#/definitions/partyTypes" }
							}
						]
					}
				}
			},
			"required": [ "chargeType", "partyType" ],
			"additionalProperties": false
		},
		"counterUndertakingIndicator": {
			"description": "Indicates whether the undertaking is a local or ancillary undertaking to be issued under a counterundertaking",
			"type": "boolean"
		},
		"counterUndertakingReference": {
			"description": "Links the two instances together where this reference Id refers to other guarantee instance's identifier.",
			"type": "string",	
			"minLength": 1
		},
		"deliveryChannel": {
			"description": "Details of the communication channel",
			"$ref": "#/definitions/deliveryChannel"
		},
		"undertakingAccounts": {
			"description": "Bank accounts related to the guarantee",
			"type" : "array",
			"items": {
				"type": "object",
				"properties": {
					"undertakingAccountType": {
						"description": "type of a guarantee bank account",
						"oneOf": [
							{
								"$ref": "#/definitions/undertakingAccountTypes"
							},
							{
								"type": "array",
								"minItems": 1,
								"maxItems": 1,
								"uniqueItems": true,
								"items": { "$ref": "#/definitions/undertakingAccountTypes" }
							}
						]
					},
					"accountType": {
						"description": "bank account type",
						"oneOf": [
							{
								"$ref": "#/definitions/accountTypes"
							},
							{
								"type": "array",
								"minItems": 1,
								"maxItems": 1,
								"uniqueItems": true,
								"items": { "$ref": "#/definitions/accountTypes" }
							}
						]
					},
					"identification": {
						"description": "Bank Account / Alias identifier",
						"type": "string",
						"minLength": 1,
						"maxLength": 35
					},
					"currency": {
						"$ref": "#/definitions/currency"
					}
				}
			},
			"required": [ "undertakingAccountType", "accountType", "identification", "currency" ],
			"additionalProperties": false
		},
		"enclosedFiles": {
			"description": "Document(s) enclosed in the undertaking directly related to the undertaking",
			"$ref": "#/definitions/enclosedFiles"
		},
		"terminationDetails": {
			"description": "Details and triggers for undertaking termination",
			"type": "object",
			"properties": {
				"type": {
					"description": "type of the termination",
					"oneOf": [
						{
							"$ref": "#/definitions/terminationTypes"
						},
						{
							"type": "array",
							"minItems": 1,
							"maxItems": 1,
							"uniqueItems": true,
							"items": { "$ref": "#/definitions/terminationTypes" }
						}
					]
				},
				"date": {
					"description": "Date of guarantee termination effectiveness",
					"type": "string",
					"$ref": "#/definitions/dateChoice"
				},
				"additionalInformation": {
					"description": "free text information, or use of URL for ready-made text reference",
					"type" : "object",
					"$ref": "#/definitions/uriTextChoice"
				}
			},
			"required": [ "type" ],
			"additionalProperties": false
		},
		"demandDetails": {
			"description": "Details and triggers for undertaking demand",
			"type": "object",
			"properties": {
				"type": {
					"description": "type of the demand",
					"oneOf": [
						{
							"$ref": "#/definitions/demandTypes"
						},
						{
							"type": "array",
							"minItems": 1,
							"maxItems": 1,
							"uniqueItems": true,
							"items": { "$ref": "#/definitions/demandTypes" }
						}
					]
				},
				"amount": {
					"description": "guarantee demand amount with currency",
					"$ref": "#/definitions/amountWithCurrency"
				},
				"completeIndicator": {
					"description": "Indication as to whether the presentation is complete, true=yes, false=no",
					"type": "boolean"
				},
				"enclosedFiles": {
					"description": "guarantee demand enclosed files",
					"$ref": "#/definitions/enclosedFiles"
				},
				"additionalInformation": {
					"description": "free text information, or use of URL for ready-made text reference",
					"type" : "object",
					"$ref": "#/definitions/uriTextChoice"
				}
			},
			"required": [ "type", "amount", "completeIndicator" ],
			"additionalProperties": false
		},
		"adviceDetails": {
			"description": "Details for undertaking advice",
			"type" : "array",
			"items": {
				"type": "object",
				"properties": {
					"byParty": {
						"description": "guarantee party from ready-made enumeration list",
						"oneOf": [
							{
								"$ref": "#/definitions/partyTypes"
							},
							{
								"type": "array",
								"minItems": 1,
								"maxItems": 1,
								"uniqueItems": true,
								"items": { "$ref": "#/definitions/partyTypes" }
							}
						]
					},
					"date": {
						"description": "Date of guarantee advice",
						"$ref": "#/definitions/dateChoice"
					},
					"additionalInformation": {
						"description": "free text information, or use of URL for ready-made text reference",
						"type" : "object",
						"$ref": "#/definitions/uriTextChoice"
					}
				}
			},
			"required": [ "byParty", "date" ],
			"additionalProperties": false
		},
		"confirmationDetails": {
			"description": "Details for undertaking confirmation",
			"type": "object",
			"properties": {
				"byParty": {
					"description": "guarantee party from ready-made enumeration list",
					"oneOf": [
						{
							"$ref": "#/definitions/partyTypes"
						},
						{
							"type": "array",
							"minItems": 1,
							"maxItems": 1,
							"uniqueItems": true,
							"items": { "$ref": "#/definitions/partyTypes" }
						}
					]
				},
				"date": {
					"description": "Date of guarantee confirmation",
					"$ref": "#/definitions/dateChoice"
				},
				"additionalInformation": {
					"description": "free text information, or use of URL for ready-made text reference",
					"type" : "object",
					"$ref": "#/definitions/uriTextChoice"
				}
			},
			"required": [ "byParty", "date" ],
			"additionalProperties": false
		},
		"instructions": {
			"description": "instructions by any guarantee party to another guarantee party, with possibly many instances",
			"type" : "array",
			"items": {
				"type": "object",
				"properties": {
					"from": {
						"description": "guarantee party from ready-made enumeration list",
						"oneOf": [
							{
								"$ref": "#/definitions/partyTypes"
							},
							{
								"type": "array",
								"minItems": 1,
								"maxItems": 1,
								"uniqueItems": true,
								"items": { "$ref": "#/definitions/partyTypes" }
							}
						]
					},
					"to": {
						"description": "guarantee party from ready-made enumeration list",
						"oneOf": [
							{
								"$ref": "#/definitions/partyTypes"
							},
							{
								"type": "array",
								"minItems": 1,
								"maxItems": 1,
								"uniqueItems": true,
								"items": { "$ref": "#/definitions/partyTypes" }
							}
						]
					},
					"date": {
						"description": "Date of guarantee instruction",
						"$ref": "#/definitions/dateChoice"
					},
					"message": {
						"description": "free text information, or use of URL for ready-made text reference",
						"type" : "object",
						"$ref": "#/definitions/uriTextChoice"
					}
				}
			},
			"required": [ "from", "to", "message" ],
			"additionalProperties": false
		}
	},
	"required": [ "lifeCycleAction", "reference", "purpose", "name", "type", "parties", "undertakingAmount", "governanceRulesAndLaw", "underlyingTransaction", "presentationDetails", "undertakingWording", "multipleDemandIndicator", "partialDemandIndicator", "transferIndicator", "confirmationIndicator", "counterUndertakingIndicator" ],
	"additionalProperties": false,
	"definitions": {
		"lifeCycleActions": {
			"type": "string",
			"enum": [ "application", "issuance", "amendment", "non extension", "termination", "demand", "extend or pay" ]
		},
		"partyTypes": {
			"type": "string",
			"enum": [ "advising", "any bank", "applicant", "beneficiary", "confirmation", "issuer", "obligor", "ordering", "presenting", "second advising", "local issuer" ]
		},
		"names": {
			"type": "string",
			"enum": [ "demand guarantee", "stand by letter of credit", "surety" ]
		},
		"types": {
			"type": "string",
			"enum": [ "advance payment", "commercial", "customs", "direct pay", "financial", "insurance", "industrial revenue board", "maintenance", "payment", "performance", "retention", "shipping", "tender or bid", "rental", "claim" ]
		},
		"issuanceTypes": {
			"type": "string",
			"enum": [ "counter undertaking", "local undertaking", "via advising party", "via confirming party", "direct" ]
		},
		"expiryTypes": {
			"type": "string",
			"enum": [ "unlimited", "fixed" ]
		},
		"party": {
			"description": "guarantee party from ready-made enumeration list",
			"type" : "object",
			"properties": {
				"partyType": {
					"oneOf": [
						{
							"$ref": "#/definitions/partyTypes"
						},
						{
							"type": "array",
							"minItems": 1,
							"maxItems": 1,
							"uniqueItems": true,
							"items": { "$ref": "#/definitions/partyTypes" }
						}
					]
				},
				"name": {
					"description": "guarantee party name",
					"type": "string"
				},
				"address": {
					"description": "guarantee party address",
					"type": "object",
					"$ref": "#/definitions/address"
				},
				"identifier": {
					"description": "A party identifier which can be organisational or private id",
					"type": "object",
					"properties": {
						"organisationIdentifier": {
							"type": "string",	
							"minLength": 1
						},
						"organisationIdentifierType": {
							"oneOf": [
								{
									"$ref": "#/definitions/organisationIdentifierTypes"
								},
								{
									"type": "array",
									"minItems": 1,
									"maxItems": 1,
									"uniqueItems": true,
									"items": { "$ref": "#/definitions/organisationIdentifierTypes" }
								}
							]
						},
						"privateIdentifier": {
							"type": "string",	
							"minLength": 1
						},
						"privateIdentifierType": {
							"oneOf": [
								{
									"$ref": "#/definitions/privateIdentifierTypes"
								},
								{
									"type": "array",
									"minItems": 1,
									"maxItems": 1,
									"uniqueItems": true,
									"items": { "$ref": "#/definitions/privateIdentifierTypes" }
								}
							]
						}
					},
					"oneOf": [
						{
							"required": [ "organisationIdentifier", "organisationIdentifierType" ]
						},
						{
							"required": [ "privateIdentifier", "privateIdentifierType" ]
						}
					]
				},
				"contactDetails": {
					"description": "guarantee party contact details",
					"type": "object",
					"$ref": "#/definitions/contactDetail"
				}
			},
			"required": [ "partyType", "name"],
			"additionalProperties": false
		},
		"addressTypes": {
			"type": "string",
			"enum": [ "postal", "poBox", "residential", "business", "mail to", "delivery to" ]
		},
		"address": {
			"type": "object",
			"properties": {
				"addressType": {
					"oneOf": [
						{
							"$ref": "#/definitions/addressTypes"
						},
						{
							"type": "array",
							"minItems": 1,
							"maxItems": 1,
							"uniqueItems": true,
							"items": { "$ref": "#/definitions/addressTypes" }
						}
					]
				},
				"streetName": {
					"type": "string"
				},
				"postBox": {
					"type": "string"
				},
				"buildingNumber": {
					"type": "string"
				},
				"buildingName": {
					"type": "string"
				},
				"room": {
					"type": "string"
				},
				"postCode": {
					"type": "string"
				},
				"townName": {
					"type": "string"
				},
				"townLocationName": {
					"type": "string"
				},
				"country": {
					"type": "string"
				},
				"countrySubDivision": {
					"type": "string"
				},
				"countryOfResidence": {
					"type": "string"
				},
				"districtName": {
					"type": "string"
				},
				"postBox": {
					"type": "string"
				},
				"floor": {
					"type": "string"
				},
				"department": {
					"type": "string"
				},
				"subDepartment": {
					"type": "string"
				}
			}
		},
		"organisationIdentifierTypes": {
			"type": "string",
			"enum": [ "BIC = business identifier code", "LEI = legal entity identifier", "bank party", "central bank identifier", "clearing identifier", "certificate of incorporation number", "country identifier code", "customer number", "DUNS", "employer identifier", "global location number", "SIREN", "SIRET", "tax identfier", "local identifier" ]
		},
		"privateIdentifierTypes": {
			"type": "string",
			"enum": [ "date and place of birth", "alien registration number", "passport number", "customer identifier number", "drivers license number", "employee identifier number", "national identifier number", "social security number", "tax identifier" ]
		},
		"nameTypes": {
			"type": "string",
			"enum": [ "doctor", "madam", "miss", "mister", "gender neutral", "group", "platform"  ]
		},
		"contactDetail": {
			"type": "object",
			"properties": {
				"nameType": {
					"oneOf": [
						{
							"$ref": "#/definitions/nameTypes"
						},
						{
							"type": "array",
							"minItems": 1,
							"maxItems": 1,
							"uniqueItems": true,
							"items": { "$ref": "#/definitions/nameTypes" }
						}
					]
				},
				"name": {
					"type": "string"
				},
				"phoneNumber": {
					"type": "string"
				},
				"mobileNumber": {
					"type": "string"
				},
				"faxNumber": {
					"type": "string"
				},
				"emailAddress": {
					"type": "string",
					"format": "email"
				},
				"emailPurpose": {
					"type": "string"
				},
				"jobTitle": {
					"type": "string"
				},
				"responsibility": {
					"type": "string"
				},
				"department": {
					"type": "string"
				},
				"channelType": {
					"type": "string"
				},
				"channelId": {
					"type": "string"
				},
				"preferredMethod": {
					"type": "string"
				}
			}
		},
		"location": {
			"type": "object",
			"properties": {
				"townName": {
					"type": "string"
				},
				"country": {
					"type": "string"
				},
				"countrySubDivision": {
					"type": "string"
				}
			}
		},
		"uriTextChoice": {
			"type": "object",
			"properties": {
				"uri": {
					"description": "URL for ready-made text reference",
					"type": "string",
					"format": "uri-reference"
				},
				"text": {
					"description": "free text purpose of the guarantee",
					"type": "string"
				}
			},
				"oneOf": [
				{
					"required": [ "uri" ]
				},
				{
					"required": [ "text" ]
				}
			]
		},
		"currency": {
			"type": "string",
			"pattern": "^[a-zA-Z]{3}$",
			"description": "ISO 4217 currency code, e.g.: USD, EUR, CHF"
		},
		"deliveryChannel": {
			"description": "Details of the communication channel",
			"type" : "array",
			"items": {
				"type": "object",
				"properties": {
					"methodType": {
						"description": "type of a communication method",
						"oneOf": [
							{
								"$ref": "#/definitions/methodTypes"
							},
							{
								"type": "array",
								"minItems": 1,
								"maxItems": 1,
								"uniqueItems": true,
								"items": { "$ref": "#/definitions/methodTypes" }
							}
						]
					},
					"deliverTo": {
						"description": "guarantee party from ready-made enumeration list",
						"oneOf": [
							{
								"$ref": "#/definitions/partyTypes"
							},
							{
								"type": "array",
								"minItems": 1,
								"maxItems": 1,
								"uniqueItems": true,
								"items": { "$ref": "#/definitions/partyTypes" }
							}
						]
					},
					"contactDetails": {
						"description": "Deliver to contact details",
						"$ref": "#/definitions/contactDetail"
					},
					"deliveryAddress": {
						"description": "Deliver to address",
						"$ref": "#/definitions/address"
					}
				}
			},
			"required": [ "methodType", "deliverTo", "deliveryAddress" ],
			"additionalProperties": false
		},
		"amountWithCurrency": {
			"description": "amount with currency",
			"type": "object",
			"properties": {
				"amount": {
					"type": "number",
					"description": "The amount in the specified currency"
				},
				"currency": {
					"$ref": "#/definitions/currency"
				}
			},
			"required": [ "amount", "currency" ]
   		},
		"enclosedFiles": {
			"description": "Document(s) enclosed in the undertaking ",
			"type" : "array",
			"items": {
				"type": "object",
				"properties": {
					"mediumType": {
						"oneOf": [
							{
								"$ref": "#/definitions/mediumTypes"
							},
							{
								"type": "array",
								"minItems": 1,
								"maxItems": 1,
								"uniqueItems": true,
								"items": { "$ref": "#/definitions/mediumTypes" }
							}
						]
					},
					"documentType": {
						"oneOf": [
							{
								"$ref": "#/definitions/documentTypes"
							},
							{
								"type": "array",
								"minItems": 1,
								"maxItems": 1,
								"uniqueItems": true,
								"items": { "$ref": "#/definitions/documentTypes" }
							}
						]
					},
					"deliveryChannel": {
						"description": "Details of the communication channel for the enclosed file",
						"$ref": "#/definitions/deliveryChannel"
					},
					"identification": {
						"description": "Name or other identification of the enclosed file",
						"type": "string",
						"minLength": 1
					},	
					"formatType": {
						"description": "enclosed file format",
						"oneOf": [
							{
								"$ref": "#/definitions/formatTypes"
							},
							{
								"type": "array",
								"minItems": 1,
								"maxItems": 1,
								"uniqueItems": true,
								"items": { "$ref": "#/definitions/formatTypes" }
							}
						]
					},
					"enclosure": {
						"description": "actual enclosed file in various format. Possible to replace with binary attachment references, now a simple Base64 assumption",
						"type": "string",
						"contentEncoding": "base64"
					}
				},
				"required": [ "mediumType", "documentType", "deliveryChannel", "identification", "formatType" ]
			}
		},
		"ruleIdentifiers": {
			"type": "string",
			"enum": [ "ISPR", "NONE", "UCPR", "URDG", "OTHR" ]
		},
		"transactionTypes": {
			"type": "string",
			"enum": [ "contract", "delivery order", "proforma invoice", "purchase order", "quotation", "tender" ]
		},
		"mediumTypes": {
			"type": "string",
			"enum": [ "both paper and electronic", "paper", "electronic" ]
		},
		"documentTypes": {
			"type": "string",
			"enum": [ "beneficiary statement", "commercial invoice", "claim form", "demand", "transfer form", "email" ]
		},
		"termsTypes": {
			"type": "string",
			"enum": [ "additional terms and conditions", "applied terms and conditions", "charge details", "drawing details", "proceeds assignable", "terms of effectiveness", "transfer", "terms of variation"]
		},
		"chargeTypes": {
			"type": "string",
			"enum": [ "transfer", "confirmation" ]
		},
		"methodTypes": {
			"type": "string",
			"enum": [ "courier", "email", "fax", "messenger", "post", "registered mail", "secure email", "SWIFTNet FileAct", "SWIFTNet InterAct", "SWIFT MT", "SWIFT MX", "telecommunication", "web upload/download"]
		},
		"undertakingAccountTypes": {
			"type": "string",
			"enum": [ "obligor liability", "obligor charges", "obligor settlements" ]
		},
		"accountTypes": {
			"type": "string",
			"enum": [ "IBAN=International Bank Account Number", "BBAN=Basic Bank Account Number", "proxy/alias for the bank account number" ]
		},
		"formatTypes": {
			"type": "string",
			"enum": [ "Adobe pdf", "XML=eXtended Markup Language", "spreadsheet (like MS Excel)", "MS Word", "XSLT=eXtensible Stylesheet Language Transformations", "text file" ]
		},
		"terminationTypes": {
			"type": "string",
			"enum": [ "underlying business finished", "tender non accpetance", "reduction terms fulfilled", "warranty obligation period expired" ]
		},
		"demandTypes": {
			"type": "string",
			"enum": [ "pay or extend", "pay only" ]
		},
		"dateChoice": {
			"type": "object",
			"properties": {
				"date": {
					"type": "string",
					"format": "date"
				},
				"dateTime": {
					"type": "string",
					"format": "date-time"
				}
			},
				"oneOf": [
				{
					"required": [ "date" ]
				},
				{
					"required": [ "dateTime" ]
				}
			]
		}
	}
}